<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ch√∫c M·ª´ng NƒÉm M·ªõi</title>

<style>
body {
    margin: 0;
    overflow: hidden;
    background: radial-gradient(circle at center, #0d0d0d, #0f0e0e);
    color: #f1ebeb;
    font-family: 'Segoe UI', sans-serif;
    text-align: center;
}

/* ===== CENTER ===== */
#center {
    position: fixed;
    inset: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 10;
    padding: 10px;
}

/* ===== COUNTDOWN ===== */
#countdown {
    font-size: clamp(50px, 16vw, 110px);
    font-weight: bold;
    letter-spacing: 8px;
    animation: pulse 1s infinite alternate;
}

/* ===== TITLE ===== */
#title {
    font-size: clamp(26px, 8vw, 60px);
    margin-top: 10px;
    display: none;
    animation: neonZoom 1.5s ease forwards;
}

/* ===== NEW YEAR TEXT ===== */
.newyear-text {
    display: inline-block;
    font-weight: bold;
    background: linear-gradient(
        90deg,
        #ffffff,
        #ffd700,
        #ff4d6d,
        #ffd700,
        #ffffff
    );
    background-size: 300%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: shine 4s linear infinite;
}

/* ===== CRUSH NAME ===== */
.crush-name {
    display: inline-block;
    margin-top: 6px;
    font-size: clamp(20px, 6vw, 36px);
    color: #ffb6c1;
    text-shadow: 0 0 12px #ff4d6d;
    animation: heartbeat 1.6s infinite;
    font-weight: bold;
}

/* ===== WISH ===== */
#wish {
    font-size: clamp(16px, 4.5vw, 24px);
    line-height: 1.6;
    margin-top: 18px;
    padding: 0 12px;
    max-width: 90vw;
    min-height: 2.2em;
    color: #ffb6c1;
    display: none;
    white-space: pre-line;
}

/* ===== CANVAS ===== */
canvas {
    position: fixed;
    inset: 0;
    z-index: 1;
    pointer-events: none;
}

/* ===== ANIMATIONS ===== */
@keyframes pulse {
    from { text-shadow: 0 0 10px #fff; transform: scale(1); }
    to { text-shadow: 0 0 30px #ff004c; transform: scale(1.05); }
}

@keyframes neonZoom {
    from { transform: scale(0.5); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

@keyframes heartbeat {
    0%,100% { transform: scale(1); }
    50% { transform: scale(1.08); }
}

@keyframes shine {
    from { background-position: 0%; }
    to { background-position: 300%; }
}
</style>
</head>

<body>

<div id="center">
    <div id="countdown">5</div>

    <div id="title">
        <span class="newyear-text">üéâ CH√öC M·ª™NG NƒÇM M·ªöI üéâ</span><br>
        <span class="crush-name">B√â TH·∫¢O</span>
    </div>

    <div id="wish"></div>
</div>

<canvas id="canvas"></canvas>

<script>
const isMobile = window.innerWidth < 768;

/* ===== COUNTDOWN ===== */
let time = 5;
const countdownEl = document.getElementById("countdown");

const countdown = setInterval(() => {
    time--;
    countdownEl.textContent = time;
    if (time === 0) {
        clearInterval(countdown);
        countdownEl.style.display = "none";
        startFireworks();
        showText();
    }
}, 1000);

/* ===== FIREWORKS (LIGHT) ===== */
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

function resize() {
    canvas.width = innerWidth;
    canvas.height = innerHeight;
}
resize();
addEventListener("resize", resize);

let fireworks = [], particles = [];
let lastFrame = 0;
const fpsLimit = 1000 / (isMobile ? 40 : 60);

class Firework {
    constructor() {
        this.x = Math.random() * canvas.width;
        this.y = canvas.height;
        this.ty = Math.random() * canvas.height * 0.45;
    }
    update() {
        this.y -= isMobile ? 4 : 6;
        if (this.y <= this.ty) {
            explode(this.x, this.y);
            return false;
        }
        return true;
    }
    draw() {
        ctx.fillStyle = "#fff";
        ctx.fillRect(this.x, this.y, 2, 6);
    }
}

function explode(x, y) {
    const count = isMobile ? 40 : 90;
    for (let i = 0; i < count; i++) {
        const a = Math.random() * Math.PI * 2;
        particles.push({
            x, y,
            vx: Math.cos(a) * Math.random() * 4,
            vy: Math.sin(a) * Math.random() * 4,
            life: 1,
            color: `hsl(${Math.random()*360},100%,60%)`
        });
    }
}

function animate(now = 0) {
    if (now - lastFrame < fpsLimit) {
        requestAnimationFrame(animate);
        return;
    }
    lastFrame = now;

    ctx.fillStyle = "rgba(0,0,0,0.35)";
    ctx.fillRect(0,0,canvas.width,canvas.height);

    fireworks = fireworks.filter(f => (f.draw(), f.update()));

    particles = particles.filter(p => {
        p.x += p.vx;
        p.y += p.vy + 0.6;
        p.life -= 0.02;
        if (p.life <= 0) return false;
        ctx.globalAlpha = p.life;
        ctx.fillStyle = p.color;
        ctx.beginPath();
        ctx.arc(p.x, p.y, 2, 0, Math.PI * 2);
        ctx.fill();
        return true;
    });

    ctx.globalAlpha = 1;
    requestAnimationFrame(animate);
}

function startFireworks(){
    animate();
    setInterval(
        () => fireworks.push(new Firework()),
        isMobile ? 2200 : 1100
    );
}

/* ===== TEXT ===== */
const title = document.getElementById("title");
const wishEl = document.getElementById("wish");

const finalWish =
"üíñ Ch√∫c em nƒÉm m·ªõi th·∫≠t nhi·ªÅu s·ª©c kh·ªèe, c√¥ng vi·ªác, h·ªçc t·∫≠p thu·∫≠n l·ª£i v√† lu√¥n vui v·∫ª m·ªói ng√†y.\n\n" +
"‚ú® Mong r·∫±ng m·ªçi ƒëi·ªÅu t·ªët ƒë·∫πp s·∫Ω ƒë·∫øn v·ªõi em, ƒë·ªÉ 2026 tr·ªü th√†nh m·ªôt nƒÉm th·∫≠t r·ª±c r·ª°.\n\n" +
"üå∏ Ch√∫c em lu√¥n b√¨nh an, g·∫∑p nhi·ªÅu may m·∫Øn, ng√†y c√†ng xinh ƒë·∫πp v√† c√≥ th√™m th·∫≠t nhi·ªÅu ni·ªÅm vui m·ªõi. üéä";

function typeText(text, i = 0) {
    wishEl.textContent = text.slice(0, i);
    if (i < text.length) {
        setTimeout(() => typeText(text, i + 1), 32);
    }
}

function showText() {
    title.style.display = "block";
    wishEl.style.display = "block";
    typeText(finalWish);
}

/* ===== HEARTS (VERY LIGHT) ===== */
setInterval(() => {
    if (isMobile && Math.random() > 0.6) return;

    const heart = document.createElement("div");
    heart.textContent = "üíó";
    heart.style.position = "fixed";
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.bottom = "-20px";
    heart.style.fontSize = isMobile ? "18px" : "22px";
    heart.style.opacity = 0.6;
    heart.style.transition = "transform 6s linear, opacity 6s";
    heart.style.zIndex = 5;

    document.body.appendChild(heart);

    requestAnimationFrame(() => {
        heart.style.transform = "translateY(-110vh)";
        heart.style.opacity = 0;
    });

    setTimeout(() => heart.remove(), 6000);
}, isMobile ? 3000 : 1400);
</script>

</body>
</html>
